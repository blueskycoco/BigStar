;
; Copyright (c) Microsoft Corporation.  All rights reserved.
;
;
; Use of this source code is subject to the terms of the Microsoft end-user
; license agreement (EULA) under which you licensed this SOFTWARE PRODUCT.
; If you did not accept the terms of the EULA, you are not authorized to use
; this source code. For a copy of the EULA, please see the LICENSE.RTF on your
; install media.
;

MEMORY

;
; NK and RAM region definitions.
;
IF IMGULDR !
	#define	NKNAME      NK
	#define	NKSTART     80200000
	#define	NKLEN       01B00000

	#define	RAMNAME     RAM
	#define	RAMSTART    81D00000
IF SMDK6410_X5D
	#define	RAMLEN      01000000
ELSE
	#define	RAMLEN      0C800000
ENDIF SMDK6410_X5D

ELSE
	#define	NKNAME      NK
	#define	NKSTART     80200000
	#define	NKLEN       00400000

	#define	RAMNAME     RAM
	#define	RAMSTART    80600000
IF SMDK6410_X5D
	#define	RAMLEN      02700000
ELSE
	#define	RAMLEN      05F00000
ENDIF SMDK6410_X5D

ENDIF IMGULDR

PTS             80000000    00020000    RESERVED
ARGS            80020000    00000800    RESERVED

EBOOT           80021000    00040000    RESERVED
EBOOT_STACK     80061000    00004000    RESERVED
EBOOT_RAM       80065000    00006000    RESERVED

EFSBUF          80070000    00010000    RESERVED

IF SMDK6410_X5D
CMM             82D00000    00300000    RESERVED
DISPLAY         83000000    00800000    RESERVED
MFC_JPEG        83800000    00800000    RESERVED
ELSE
CMM             8E500000    00300000    RESERVED
DISPLAY         8E800000    00C00000    RESERVED
MFC_JPEG        8F400000    00C00000    RESERVED
ENDIF SMDK6410_X5D

$(NKNAME)       $(NKSTART)  $(NKLEN)    RAMIMAGE
$(RAMNAME)      $(RAMSTART) $(RAMLEN)   RAM

#if $(WATSONBUFFERSIZE)==$()
    #define WATSONBUFFERSIZE        0004B000
#endif
dwOEMDrWatsonSize	00000000	$(WATSONBUFFERSIZE)	FIXUPVAR

cbNKPagingPoolSize	00000000	00500000	FIXUPVAR

CONFIG

	FSRAMPERCENT=0x0A0A0A0A
	COMPRESSION=ON
	KERNELFIXUPS=ON
	AUTOSIZE=ON

IF IMGPROFILER
	PROFILE=ON
ENDIF
IF IMGPROFILER !
	PROFILE=OFF
ENDIF

IF IMGTRUSTROMONLY
	IF IMGNOTALLKMODE
		ROMFLAGS=12
	ENDIF
	IF IMGNOTALLKMODE !
		ROMFLAGS=10
	ENDIF
ENDIF

IF IMGTRUSTROMONLY !
	IF IMGNOTALLKMODE
		ROMFLAGS=2
	ENDIF
	IF IMGNOTALLKMODE !
		ROMFLAGS=0
	ENDIF
ENDIF

; Make an NB0 if ULDR is build
IF IMGULDR
	ROMSTART=$(NKSTART)
IF WINCEDEBUG=debug
    ROMSIZE=00700000
ELSE
    ROMSIZE=00400000
ENDIF WINCEDEBUG
	ROMWIDTH=32
ELSE
	ROMSTART=$(NKSTART)
	ROMWIDTH=32
	ROMSIZE=$(NKLEN)
ENDIF
